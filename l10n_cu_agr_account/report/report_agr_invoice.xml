<odoo>
    <data>
        <template id="report_agr_invoice">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="l10n_cu_agr_account.agr_invoice_report_layout">
                        <t t-if="o and 'company_id' in o">
                            <t t-set="company" t-value="o.company_id.sudo()"/>
                        </t>
                        <t t-if="not o or not 'company_id' in o">
                            <t t-set="company" t-value="res_company"/>
                        </t>
                        <div class="header">
                            <div class="row">
                                <div class="col-2 mb4">
                                    <img t-if="company.logo" t-att-src="'data:image/png;base64,%s' % to_text(company.logo)" style="max-height: 80px;"/>
                                </div>
                                <div class="col-2 text-left">
                                    <span>Depósito: </span><span>_________________________</span>
                                </div>
                                <div class="col-6 text-left">
                                    <span>Direccion<br/> Teléfonos: 000000000000000000<br/> Sitio Web: https: //www.google.com</span>
                                </div>
                                 <div class="col-2 text-left">
                                    <p>
                                        <span t-if="o.move_type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">
                                            Factura No.
                                        </span>
                                        <span t-if="o.move_type == 'out_invoice' and o.state == 'draft'">Factura Borrador  No.
                                        </span>

                                        <span t-if="o.move_type == 'out_invoice' and o.state == 'cancel'">Factura Cancelada  No.
                                        </span>

                                        <span t-if="o.move_type == 'out_refund'">Credit Note  No.</span>
                                        <span t-if="o.move_type == 'in_refund'">Vendor Credit Note No.</span>
                                        <span t-if="o.move_type == 'in_invoice'">Vendor Bill No.</span>
                                        <span t-field="o.name"/>
                                    </p>
                                    <br/>
                                    <p t-if="o.invoice_date">
                                        <strong>Fecha:</strong> <span t-field="o.invoice_date"/>
                                    </p>
                                </div>
                                
                            </div>
                            <div class="row">
                                <div class="col-3 mb4">
                                    <span class="bold">Importador: </span> <span t-field="o.importer_company_id.name"/>
                                </div>
                                <div class="col-6 mb4">
                                    <span class="bold">Cliente: </span> <span t-field="o.partner_id.name" />, <span t-field="o.partner_id.street" />, <span t-field="o.partner_id.city" />, <span t-field="o.partner_id.state_id.name" />, <span t-field="o.partner_id.zip" />  
                                </div>
                                <div class="col-3 text-left">
                                    <span>Fecha: </span><span t-field="o.invoice_date"/>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-3 mb4">
                                    <span class="bold">Vendedor: </span> <span t-field="o.company_id.name"/>
                                </div>
                                <div class="col-3 mb4">
                                     <span><strong>No. Contrato:</strong></span><span t-field="o.contract_number"></span>
                                </div>
                                <div class="col-3 text-left">
                                    <span>Condición de: </span><span >_________________________</span>
                                </div>
                                <div class="col-3 text-left">
                                    <span>Moneda: </span><span t-field="o.currency_id"/>
                                </div>
                            </div>

                            <div t-if="company.logo or company.report_header" class="row zero_min_height">
                                <div class="col-xs-12">
                                    <div style="border-bottom: 1px solid black;"/>
                                </div>
                            </div>
                        </div>
                        <div class="page">
                           
                            <!-- Is there a discount on at least one line? -->
                            <t t-set="display_discount" t-value="any([l.discount for l in o.invoice_line_ids])"/>

                            <table class="table table-striped" name="invoice_line_table">
                                <thead>
                                    <tr class="border-black" style="border-top:1px solid #dddddd;background-color: ">
                                        <th class="text-center">No</th>
                                        <th class="text-center">Código producto</th>
                                        <th class="text-center">Partida Arancelaria</th>
                                        <th class="text-right">Origen</th>
                                        <th class="text-center">Descripción del Producto</th>
                                        <th class="text-right">UM</th>
                                        <th class="text-right">Cantidad</th>
                                        <th class="text-right">Precio Unitario</th>
                                        <th class="text-right">Importe</th>
                                        <th class="text-right">Bultos</th>
                                        <th class="text-right">P/N(Kg)</th>
                                        <th class="text-right">P/B(Kg)</th> 
                                    </tr>
                                    
                                </thead>
                                <tbody class="invoice_tbody">
                                    <t t-set="var_num_line" t-value="0"/>
                                    <tr t-foreach="o.invoice_line_ids" t-as="l">
                                        <td class="text-center">
                                            <t t-set="var_num_line" t-value="var_num_line + 1"/>
                                            <span class="text-right">
                                                <t t-esc="var_num_line"/>
                                            </span>
                                        </td>
                                        <td class="text-center">
                                            <span t-field="l.product_id.default_code"/>
                                        </td>
                                        <td class="text-center">
                                            <span t-field="l.product_arancel_id"/>
                                        </td>
                                         <td class="text-right">
                                            <span t-field="l.origen"/>
                                        </td>
                                        <td class="text-center">
                                            <span t-field="l.name"/>
                                        </td>
                                         <td class="text-right">
                                            <span t-field="l.product_uom_id"/>
                                        </td>
                                        <td class="text-right">
                                            <span t-field="l.quantity"/>
                                        </td>
                                        <td class="text-right">
                                            <span t-field="l.price_unit"/>
                                        </td>
                                        <td class="text-right" id="subtotal">
                                            <span t-field="l.price_subtotal" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                                        </td>
                                        <td class="text-right">
                                            <span t-field="l.bultos"/>
                                        </td>
                                        <td class="text-right">
                                            <span t-field="l.net_weight"/>
                                        </td>
                                        <td class="text-right">
                                            <span t-field="l.weight"/>
                                        </td>
                                    </tr>
                                    <!--<tr t-foreach="range(max(3-len(o.invoice_line_ids),0))" t-as="l">
                                        <td>&amp;nbsp;</td>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                    </tr>-->
                                    <tr class="border-black" style="border-top:1px solid #dddddd;">
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td class="text-right">
                                            <strong>Totales:</strong>
                                        </td>
                                          <td class="text-right">
                                            <strong>
                                                <span t-field="o.amount_untaxed" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                                            </strong>
                                        </td>
                                        <td class="text-right">
                                            <strong>
                                                <span t-field="o.no_bultos"/>
                                            </strong>
                                        </td>
                                        <td class="text-right">
                                            <strong>
                                                <span t-field="o.net_weight_total"/>
                                            </strong>
                                        </td>
                                        <td class="text-right">
                                            <strong>
                                                <span t-field="o.weight_brute_total"/>
                                            </strong>
                                        </td>
                                    </tr>
                                    <tr>                                        <!--class="border-black" style="border-bottom:1px solid #dddddd;"-->
                                        <td/>
                                        <td/>
                                        <td/>
                                        
                                        <td/>
                                        <td class="text-right">
                                            <strong>
                                                <span>Descuento </span>
                                            </strong>
                                            <strong>
                                                <t t-if="o.ks_global_discount_type == 'percent'">
                                                (                                                    <span t-field="o.ks_global_discount_rate"/>
%)
                                                </t>
                                            </strong>
                                        </td>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td class="text-right">
                                            <strong>
                                                <span t-field="o.ks_amount_discount" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                                            </strong>
                                        </td>
                                        <td/>
                                        <td/>
                                        <td/>
                                    </tr>
                                    <tr>                                        <!--class="border-black" style="border-bottom:1px solid #dddddd;"-->
                                        <td/>
                                        <td/>
                                        <td/>
                                       
                                        <td/>
                                         <td class="text-right">
                                            <strong>Importe Total a Pagar en EUR-:</strong>
                                        </td>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td class="text-right">
                                            <strong>
                                                <span t-field="o.amount_total" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                                            </strong>
                                        </td>
                                        <td/>
                                        <td/>
                                        <td/>
                                    </tr>
                                    <tr class="border-black" style="border-bottom:1px solid #dddddd;">
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                        <td/>
                                    </tr>

                                </tbody>
                            </table>

                            
                            <p t-if="o.invoice_payment_term_id">
                                <span t-field="o.invoice_payment_term_id.note"/>
                            </p>
                            <p t-if="o.fiscal_position_id.note">
                                <span t-field="o.fiscal_position_id.note"/>
                            </p>
                            <p>
                                <br/>
                                <br/>
                               Observaciones: (Nombre de la persona responsable por el cliente)
                            </p>
                            <p>
                               Dirección de entrega:
                            </p>
                             <p>
                              Nota: Es obligatorio coordinar la carga con el departamento de Logística. Teléfonos:
                            </p>
                            <p>
                                <br/>
                                <br/>
                               Declaramos bajo juramento que las partidas arancelarias marcadas con un asterisco (*) en la columna de origen, son las que tienen el certificado que avala el mismo
                            </p>

                            <table class="table table-bordered" style="border: 2px solid black;">
                                
                                <tr>
                                    <td style="text-align: left; border: 1px solid black;">
                                        <p class="text-left">
                                            <strong>Despachado por:
                                                <br/>
                                            </strong>
                                        </p>
                                    </td>
                                    <td style="text-align: left; border: 1px solid black;">
                                        <p class="text-left">
                                            <strong>Recibido por:
                                                <br/>
                                            </strong>
                                        </p>
                                    </td>
                                    <td style="text-align: left; border: 1px solid black;">
                                        <p class="text-left">
                                            <strong>Transportado por:
                                                <br/>
                                            </strong>
                                        </p>
                                    </td>
                                                                  </tr>
                                <tr>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Nombre: </span>_________________________</td>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Nombre: </span>_________________________</td>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Nombre: </span>_________________________</td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Cargo: </span>_________________________</td>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Cargo: </span>_________________________</td>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Cargo: </span>_________________________</td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Firma: </span>_________________________</td>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Firma: </span>_________________________</td>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Firma: </span>_________________________</td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Fecha: </span>_________________________</td>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Fecha: </span>_________________________</td>
                                    <td style="text-align: left; border: 1px solid black;padding-left: 20px"><span>Fecha: </span>_________________________</td>
                                </tr>
                                <tr>
                                    <td style="text-align: left; border: 1px solid black;"><span>Hecho por: </span> <span class="text-right"></span></td>
                                    <td style="text-align: left; border: 1px solid black;"><span>Revisado por: </span> <span class="text-right"></span></td>
                                    <td style="text-align: left; border: 1px solid black;"><span>Factura No. </span> <span class="text-right"></span></td>
                                </tr>
                            </table>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>